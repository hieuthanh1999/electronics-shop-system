<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/admin.html :: headerfiles">

</head>
<head>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
<!-- container section start -->
<section id="container" class="">


    <header th:replace="fragments/admin.html :: header">

    </header>
    <!--header end-->

    <!--sidebar start-->
    <aside th:replace="fragments/admin.html :: sidebar">

    </aside>
    <!--sidebar end-->

    <!--main content start-->
    <section id="main-content">
        <section class="wrapper">
            <!--            <div class="row">-->
            <!--                <div class="col-lg-12">-->
            <!--                    <h3 class="page-header"><i class="fa fa-table"></i> Table</h3>-->
            <!--                    <ol class="breadcrumb">-->
            <!--                        <li><i class="fa fa-home"></i><a href="index.html">Home</a></li>-->
            <!--                        <li><i class="fa fa-table"></i>Table</li>-->
            <!--                        <li><i class="fa fa-th-list"></i>Basic Table</li>-->
            <!--                    </ol>-->
            <!--                </div>-->
            <!--            </div>-->
            <!-- page start-->
            <div class="row">
                <div class="col-lg-12">
                    <section class="panel">
                        <header th:inline="text" class="panel-heading">
                            [[${PageTitle}]]
                            [[${error}]]

                        </header>
<!--                        <div col-12>-->
<!--                            <div class="my-3">-->
<!--                                <form th:action="@{/tutorials}" id="searchForm">-->
<!--                                    <div class="row d-flex">-->
<!--                                        <div class="col-md-6 mt-2">-->
<!--                                            <div class="search">-->
<!--                                                <i class="fa fa-search"></i>-->
<!--                                                <input id="keyword" type="search" name="keyword" th:value="${keyword}" required class="form-control"-->
<!--                                                       placeholder="Enter keyword">-->
<!--                                                <button type="submit" class="btn btn-secondary">Search</button>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                        <div class="col-md-3 input-group mt-2">-->
<!--                                            <div class="input-group-prepend">-->
<!--                                                <label class="input-group-text" for="pageSize">Items per page:</label>-->
<!--                                            </div>-->
<!--                                            <select form="searchForm" name="size" th:value="${pageSize}" onchange="changePageSize()" class="size-select"-->
<!--                                                    id="pageSize">-->
<!--                                                <option th:each="s : ${ {3, 6, 9} }" th:value="${s}" th:text="${s}" th:selected="${s == pageSize}"></option>-->
<!--                                            </select>-->
<!--                                        </div>-->
<!--                                        <div class="col-md-1 mt-2">-->
<!--                                            <button id="btnClear" class="btn btn-info">Clear</button>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </form>-->
<!--                            </div>-->
<!--                        </div>-->
                        <div class="row">
                            <div class="col-lg-12">
                                <section class="panel">
                                    <header class="panel-heading">
                                        Tìm kiếm
                                    </header>
                                    <div class="panel-body">
                                        <form class="form-inline" role="form" th:action="@{/admin/product}">
                                            <div class="form-group">
                                                <label class="sr-only" for="search">Từ khoá</label>
                                                <input type="search" class="form-control" id="search" name="keyword" th:value="${keyword}" placeholder="Tên sản phẩm">
                                            </div>
                                            <button type="submit" class="btn btn-primary">Tìm kiếm</button>
                                            <button type="button" class="btn btn-light"><a th:href="@{/admin/product/add}">Add</a></button>
                                        </form>

                                    </div>

                                </section>

                            </div>
                        </div>


                        <div th:if="${products.size() >0}">
                            <table class="table table-striped table-advance table-hover">
                                <tbody>
                                <tr>
                                    <th th:replace="fragments/sorting :: sorting('id', 'Id')">Id</th>
                                    <th th:replace="fragments/sorting :: sorting('name', 'Name')">Name</th>
                                    <th th:replace="fragments/sorting :: sorting('author', 'Author')">Author</th>
                                    <th th:replace="fragments/sorting :: sorting('description', 'Description')">Description</th>
                                    <th th:replace="fragments/sorting :: sorting('price', 'Price')">Price</th>
                                    <th th:replace="fragments/sorting :: sorting('discount', 'Discount')">Discount</th>
                                    <th th:replace="fragments/sorting :: sorting('quantity', 'Quantity')"></th>
                                    <th>Image</th>
                                </tr>

                                <tr th:each="product : ${products}">
                                    <td th:text="${product.id}"></td>
                                    <td th:text="${product.name}"></td>
                                    <td th:text="${product.author}"></td>
                                    <td th:text="${product.description}"></td>
                                    <td th:text="${product.price}"></td>
                                    <td th:text="${product.discount}"></td>
                                    <td th:text="${product.quantity}"></td>
                                    <td><img th:src="${product.image}" width="200px" height="200px"></td>
                                    <td>
                                        <div class="btn-group">
                                            <a class="btn btn-primary" th:href="@{'/admin/product/edit/' +${product.id}}"><i class="icon_pencil"></i></a>
                                            <a class="btn btn-danger btn-delete" th:href="@{'/admin/product/delete/'+ ${product.id}}" id="btnDelete"><i class="icon_close_alt2"></i></a>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="" th:unless="${products.size() > 0}">
                            <span>No tutorials found!</span>
                        </div>
                        <nav aria-label="Pagination" th:if="${totalPages > 0}">
                            <ul class="pagination justify-content-center">
                                <li class="page-item" th:classappend="${currentPage == 1} ? 'disabled'">
                                    <a th:replace="fragments/paging :: paging(1, '<<', 'First Page')"></a>
                                </li>
                                <li class="page-item font-weight-bold" th:classappend="${currentPage == 1} ? 'disabled'">
                                    <a th:replace="fragments/paging :: paging(${currentPage - 1}, 'Prev', 'Previous Page')"></a>
                                </li>
                                <li class="page-item disabled" th:if="${currentPage - 2 > 1}">
                                    <a class="page-link" href="#">...</a>
                                </li>
                                <li class="page-item" th:classappend="${page == currentPage} ? 'active'"
                                    th:each="page : ${#numbers.sequence(currentPage > 2 ? currentPage - 2 : 1, currentPage + 2 < totalPages ? currentPage + 2 : totalPages)}">
                                    <a th:replace="fragments/paging :: paging(${page}, ${page}, 'Page ' + ${page})"></a>
                                </li>
                                <li class="page-item disabled" th:if="${currentPage + 2 < totalPages}">
                                    <a class="page-link" href="#">...</a>
                                </li>
                                <li class="page-item font-weight-bold" th:classappend="${currentPage == totalPages} ? 'disabled'">
                                    <a th:replace="fragments/paging :: paging(${currentPage + 1},'Next', 'Next Page')"></a>
                                </li>
                                <li class="page-item" th:classappend="${currentPage == totalPages} ? 'disabled'">
                                    <a th:replace="fragments/paging :: paging(${totalPages}, '>>', 'Last Page')"></a>
                                </li>
                            </ul>
                        </nav>

                    </section>
                    <div class="modal fade text-center" id="confirmModal">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">Delete Confirmation</h5>
                                    <button type="button" class="close" data-dismiss="modal">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>

                                <div class="modal-body">
                                    <span id="confirmText"></span>
                                </div>

                                <div class="modal-footer">
                                    <a type="button" id="yesBtn" class="btn btn-danger">Yes</a>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- page end-->
        </section>
    </section>
    <!--main content end-->
</section>
<!-- container section start -->

<!-- javascripts -->
<script src="/NiceAdmin/js/jquery.js"></script>
<script src="/NiceAdmin/js/jquery-ui-1.10.4.min.js"></script>
<script src="/NiceAdmin/js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="/NiceAdmin/js/jquery-ui-1.9.2.custom.min.js"></script>
<!-- bootstrap -->
<script src="/NiceAdmin/js/bootstrap.min.js"></script>
<!-- nice scroll -->
<script src="/NiceAdmin/js/jquery.scrollTo.min.js"></script>
<script src="/NiceAdmin/js/jquery.nicescroll.js" type="text/javascript"></script>
<!-- custom select -->
<script src="/NiceAdmin/js/jquery.customSelect.min.js"></script>
<script src="/NiceAdmin/assets/chart-master/Chart.js"></script>

<!--custome script for all page-->
<script src="/NiceAdmin/js/scripts.js"></script>
<!-- custom script for this page-->

<script>
    $(document).ready(function () {
        $(".btn-delete").on("click", function (e) {
            e.preventDefault();
            const link = $(this);

            $("#yesBtn").attr("href", link.attr("href"));
            $("#confirmText").html("Do you want to delete ? \<strong\>" + "" + "\<\/strong\>?");
            $("#confirmModal").modal();
        });
    })
    //knob
    $(function() {
        $(".knob").knob({
            'draw': function() {
                $(this.i).val(this.cv + '%')
            }
        })
    });

    //carousel
    $(document).ready(function() {
        $("#owl-slider").owlCarousel({
            navigation: true,
            slideSpeed: 300,
            paginationSpeed: 400,
            singleItem: true

        });
    });

    //custom select box

    $(function() {
        $('select.styled').customSelect();
    });

    /* ---------- Map ---------- */
    $(function() {
        $('#map').vectorMap({
            map: 'world_mill_en',
            series: {
                regions: [{
                    values: gdpData,
                    scale: ['#000', '#000'],
                    normalizeFunction: 'polynomial'
                }]
            },
            backgroundColor: '#eef3f7',
            onLabelShow: function(e, el, code) {
                el.html(el.html() + ' (GDP - ' + gdpData[code] + ')');
            }
        });
    });
</script>

</body>

</html>
