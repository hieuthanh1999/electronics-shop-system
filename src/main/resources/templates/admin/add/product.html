<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/admin.html :: headerfiles">

</head>

<body>
<!-- container section start -->
<section id="container" class="">


    <header th:replace="fragments/admin.html :: header">

    </header>
    <!--header end-->

    <!--sidebar start-->
    <aside th:replace="fragments/admin.html :: sidebar">

    </aside>
    <!--sidebar end-->

    <!--main content start-->
    <section id="main-content">
        <section class="wrapper">
            <!--            <div class="row">-->
            <!--                <div class="col-lg-12">-->
            <!--                    <h3 class="page-header"><i class="fa fa-table"></i> Table</h3>-->
            <!--                    <ol class="breadcrumb">-->
            <!--                        <li><i class="fa fa-home"></i><a href="index.html">Home</a></li>-->
            <!--                        <li><i class="fa fa-table"></i>Table</li>-->
            <!--                        <li><i class="fa fa-th-list"></i>Basic Table</li>-->
            <!--                    </ol>-->
            <!--                </div>-->
            <!--            </div>-->
            <!-- page start-->
            <div class="row">
                <div class="col-lg-12">
                    <section class="panel">
                        <header th:inline="text" class="panel-heading">
                            [[${PageTitle}]]
                            [[${error}]]
                        </header>
                        <div class="panel-body">
                            <div class="form">
                                <form class="form-validate form-horizontal" enctype="multipart/form-data" id="feedback_form" th:object="${product}" method="post" th:action="@{/admin/product/save}">
                                    <div class="form-group" th:if="${product.id} != null" >
                                        <label for="id" class="control-label col-lg-2">Id <span class="required">*</span>ID</label>
                                        <div class="col-lg-10">
                                            <input th:field="*{id}" th:value="${product.id}" readonly class="form-control" id="id" name="id" type="text" required />
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="name" class="control-label col-lg-2">Product Name <span class="required">*</span></label>
                                        <div class="col-lg-10">
                                            <input th:field="*{name}" th:value="${product.name}" class="form-control" id="name" minlength="5" type="text" required />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-lg-2" for="category">Select Category</label>
                                        <div class="col-lg-10">
                                            <select th:field="*{category}" id="category" class="form-control m-bot15" required>
                                                <option  value="" disabled>Please choose category</option>
                                                <option th:each="category : ${categories}"
                                                        th:value="${category.id}" th:text="${category.name}" >
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="author" class="control-label col-lg-2">Author <span class="required">*</span></label>
                                        <div class="col-lg-10">
                                            <input th:field="*{author}" th:value="${product.author}" class="form-control" id="author" minlength="5" type="text" required />
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="description" class="control-label col-lg-2">Description <span class="required">*</span></label>
                                        <div class="col-lg-10">
                                            <input th:field="*{description}" th:value="${product.description}" class="form-control" id="description" minlength="5" type="text" />
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="price" class="control-label col-lg-2">Price <span class="required">*</span></label>
                                        <div class="col-lg-10">
                                            <input th:field="*{price}" th:value="${product.price}" class="form-control" id="price"  min="1000" type="number" required />
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="quantity" class="control-label col-lg-2">Quantity <span class="required">*</span></label>
                                        <div class="col-lg-10">
                                            <input th:field="*{quantity}" th:value="${product.quantity}" class="form-control" id="quantity"  type="number" required />
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="discount" class="control-label col-lg-2">Discount <span class="required">*</span></label>
                                        <div class="col-lg-10">
                                            <input th:field="*{discount}" th:value="${product.discount}" class="form-control" id="discount"  min="0" type="number" required />

                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="fileImage">File input</label>
                                        <input type="file" id="fileImage" name="img" accept="image/png, image/jpg">
                                        <img style="margin-top: 10px; height: 166px;width: 166px; " id="thumbnail" alt=" "/>
                                        <p class="help-block">Vui lòng chọn ảnh png hoặc jpg</p>
                                    </div>

                                    <div class="form-group">
                                        <div class="col-lg-offset-2 col-lg-10">
                                            <button class="btn btn-primary" type="submit">Save</button>
                                            <button class="btn btn-default" type="button"><a th:href="@{/admin/product}">Cancel</a></button>
                                        </div>
                                    </div>
                                </form>
                            </div>

                        </div>

                    </section>
                </div>
            </div>
            <!-- page end-->
        </section>
    </section>
    <!--main content end-->
</section>
<!-- container section start -->

<!-- javascripts -->
<script src="/NiceAdmin/js/jquery.js"></script>
<script src="/NiceAdmin/js/jquery-ui-1.10.4.min.js"></script>
<script src="/NiceAdmin/js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="/NiceAdmin/js/jquery-ui-1.9.2.custom.min.js"></script>
<!-- bootstrap -->
<script src="/NiceAdmin/js/bootstrap.min.js"></script>
<!-- nice scroll -->
<script src="/NiceAdmin/js/jquery.scrollTo.min.js"></script>
<script src="/NiceAdmin/js/jquery.nicescroll.js" type="text/javascript"></script>
<!-- custom select -->
<script src="/NiceAdmin/js/jquery.customSelect.min.js"></script>
<script src="/NiceAdmin/assets/chart-master/Chart.js"></script>

<!--custome script for all page-->
<script src="/NiceAdmin/js/scripts.js"></script>
<!-- custom script for this page-->

<script>
    //knob
    $(document).ready(function(){
        $('#fileImage').change(function(){
            showImageThumbnail(this);
        });
    });

    function showImageThumbnail(fileInput){
        const file = fileInput.files[0];
        const reader = new FileReader();
        reader.onload = function(e){
            $('#thumbnail').attr('src',e.target.result);
        };
        reader.readAsDataURL(file);
    }
    $(function() {
        $(".knob").knob({
            'draw': function() {
                $(this.i).val(this.cv + '%')
            }
        })
    });

    //carousel
    $(document).ready(function() {
        $("#owl-slider").owlCarousel({
            navigation: true,
            slideSpeed: 300,
            paginationSpeed: 400,
            singleItem: true

        });
    });

    //custom select box

    $(function() {
        $('select.styled').customSelect();
    });

    /* ---------- Map ---------- */
    $(function() {
        $('#map').vectorMap({
            map: 'world_mill_en',
            series: {
                regions: [{
                    values: gdpData,
                    scale: ['#000', '#000'],
                    normalizeFunction: 'polynomial'
                }]
            },
            backgroundColor: '#eef3f7',
            onLabelShow: function(e, el, code) {
                el.html(el.html() + ' (GDP - ' + gdpData[code] + ')');
            }
        });
    });
</script>

</body>

</html>
